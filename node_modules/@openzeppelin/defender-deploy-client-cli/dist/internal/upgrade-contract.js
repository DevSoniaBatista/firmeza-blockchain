"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.upgradeContract = void 0;
const fs_1 = require("fs");
async function upgradeContract(args, client) {
    let newImplementationABI;
    if (args.contractArtifactFile !== undefined) {
        const artifactObject = JSON.parse(await fs_1.promises.readFile(args.contractArtifactFile, 'utf8'));
        newImplementationABI = JSON.stringify(artifactObject.abi);
    }
    const deploymentRequest = {
        proxyAddress: args.proxyAddress,
        newImplementationAddress: args.newImplementationAddress,
        network: args.network,
        proxyAdminAddress: args.proxyAdminAddress,
        newImplementationABI: newImplementationABI,
        approvalProcessId: args.approvalProcessId,
    };
    return client.upgradeContract(deploymentRequest);
}
exports.upgradeContract = upgradeContract;
//# sourceMappingURL=upgrade-contract.js.map